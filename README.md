# Python面向对象编程--PlaneWars

## Python面向对象

OOP的三大特性：封装，继承，多态

### 封装
* 类和对象的关系：类只有一个，对象可以有很多个。（飞机图纸和飞机的关系）
* 代码中self的含义：哪一个对象调用的方法，self就是哪一个对象的**引用**
* 创建对象时，解释器会自动做两件事：为对象分配内存(`__new__`方法)和调用对象的初始化方法
* 初始化方法：`__init__(self)`
   * 负责创建类属性
   * 负责接收形参：`tom=Cat('Tom')`
* 私有属性和私有方法
   * 定义：在属性名或方法名之前，加两个下划线就变成了私有
   * 私有的含义：在C++的类中，有权限public关键字，public指的是两方面权限：一是由对象在类外直接调用方法；二是在类的内部，由其他方法调用。在Python中，也是如此，私有方法指的是第二种权限。
   * Python中的私有并不是真正的私有：
```
# 假设ClassA中含有私有方法__age
obj=ClassA()
obj.__age  # error: no such attribute

obj._ClassA__age  # pass
```
注意：类的内置方法通常在函数名前后都有下划线，比如初始化方法就是一个内置方法

### 继承
class child(parent)
* 子类拥有父类的所有方法和属性
* 如果父类发生改变，那么子类中继承自父类的方法同样发生改变
* **子类对象**不能直接访问父类的私有属性和方法，但是如果父类中本身就可以通过公有方法访问私有数据的话，那么子类对象是可以通过这种途径访问父类私有数据。所以父亲的隐私是不容易被儿子发现的

#### 重写父类的方法
可以**覆盖**，可以**扩展**
* 覆盖：解释器会寻找并自动调用子类的方法
* 扩展：父类提供的功能较少，需要子类进行拓展。这里用到`super`类

#### 子类方法和父类方法重名
当子类对象想调用一个方法，无奈父类也有同名的方法，那么解释器会使用哪种呢？这时可以通过内置方法`__mro__`来查看。


### 多态
关于多态，目前还没找到能清晰表述多态特性的例子。


### 类属性和类方法

* 当看到**类名.属性名**时，这就是类属性，用于记录类的特征。最常用的是记录一个类创建了多少对象。
* **类名.属性名**是类属性，**对象名.属性**名是对象的属性，也称为实例属性。
* 类方法：
   * 在定义前加上`@classmethod`关键字修饰
   * 该函数传入的参数是`cls`
   * 调用类方法**不用创建对象**

### 静态方法
* 使用`@staticmethod`修饰
* 不需要创建对象
* 什么情况下使用？当一个方法不需要调用其他方法时（比如该方法只想打印出当前对象的名字），就可以当做静态方法


## Pygame







